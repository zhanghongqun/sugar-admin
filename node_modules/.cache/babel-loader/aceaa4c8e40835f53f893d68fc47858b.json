{"remainingRequest":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/babel-loader/lib/index.js!/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhanghongqun/Desktop/github/sugar-admin/src/views/form/components/taskDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/src/views/form/components/taskDetail.vue","mtime":1599405772653},{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _MDinput = _interopRequireDefault(require(\"@/components/MDinput\"));\n\nvar _Sticky = _interopRequireDefault(require(\"@/components/Sticky\"));\n\nvar _task = require(\"@/api/task\");\n\nvar _auth = require(\"@/utils/auth\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import { userSearch } from '@/api/remoteSearch'\nvar defaultTask = {\n  status: \"\",\n  name: \"\",\n  // 任务名\n  description: \"\",\n  // 任务描述\n  reward: \"\",\n  // 任务奖励\n  searchKeyword: \"\",\n  //搜索关键字\n  productPic: \"\",\n  orderPic: \"\",\n  introducePic: \"\",\n  displayTime: undefined,\n  // 前台展示时间\n  id: undefined,\n  platforms: [\"a-platform\"],\n  comment_disabled: false\n};\nvar _default = {\n  name: \"taskDetail\",\n  components: {\n    Sticky: _Sticky.default,\n    MDinput: _MDinput.default\n  },\n  props: {\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    var _this = this;\n\n    var validateRequire = function validateRequire(rule, value, callback) {\n      if (value === \"\") {\n        _this.$message({\n          message: rule.field + \"为必传项\",\n          type: \"error\"\n        });\n\n        callback(null);\n      } else {\n        callback();\n      }\n    };\n\n    var validateSourceUri = function validateSourceUri(rule, value, callback) {\n      if (value) {\n        if (validateURL(value)) {\n          callback();\n        } else {\n          _this.$message({\n            message: \"外链url填写不正确\",\n            type: \"error\"\n          });\n\n          callback(null);\n        }\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      productPics: [],\n      orderPics: [],\n      introducePics: [],\n      headers: {\n        Authorization: \"Bearer \" + (0, _auth.getToken)()\n      },\n      postTask: Object.assign({}, defaultTask),\n      fetchSuccess: true,\n      loading: false,\n      limit: 1,\n      rules: (0, _defineProperty2.default)({\n        pictureUrl: [{\n          validator: validateRequire\n        }],\n        name: [{\n          validator: validateRequire\n        }],\n        description: [{\n          validator: validateRequire\n        }]\n      }, \"pictureUrl\", [{\n        validator: validateSourceUri,\n        trigger: \"blur\"\n      }])\n    };\n  },\n  computed: {\n    contentShortLength: function contentShortLength() {\n      return this.postTask.description.length;\n    }\n  },\n  created: function created() {\n    if (this.isEdit) {\n      this.fetchData();\n    } else {\n      this.postTask = Object.assign({}, defaultTask);\n    }\n  },\n  methods: {\n    handleIntroducePictureCardPreview: function handleIntroducePictureCardPreview(file) {// this.dialogImageUrl = file.url;\n      // this.dialogVisible = true;\n    },\n    handleIntroducePictureSuccess: function handleIntroducePictureSuccess(response, file, fileList) {\n      this.postTask.introducePic = response;\n    },\n    handleProductPictureCardPreview: function handleProductPictureCardPreview(file) {// this.dialogImageUrl = file.url;\n      // this.dialogVisible = true;\n    },\n    handleProductPictureSuccess: function handleProductPictureSuccess(response, file, fileList) {\n      this.postTask.productPic = response;\n    },\n    handleOrderPictureCardPreview: function handleOrderPictureCardPreview(file) {// this.dialogImageUrl = file.url;\n      // this.dialogVisible = true;\n    },\n    handleOrderPictureSuccess: function handleOrderPictureSuccess(response, file, fileList) {\n      this.postTask.orderPic = response;\n    },\n    fetchData: function fetchData() {\n      var _this2 = this;\n\n      var id = this.$route.params.taskId;\n      (0, _task.fetchTask)(id).then(function (response) {\n        _this2.productPics.push({\n          url: response.productPic\n        });\n\n        _this2.orderPics.push({\n          url: response.productPic\n        });\n\n        _this2.introducePics.push({\n          url: response.productPic\n        });\n\n        _this2.postTask = response;\n      }).catch(function (err) {\n        _this2.fetchSuccess = false;\n      });\n    },\n    submitForm: function submitForm() {\n      var _this3 = this;\n\n      this.postTask.start = parseInt(this.postTask.start.getTime());\n      (0, _task.createTask)(this.postTask).then(function (res) {\n        _this3.$router.push({\n          name: \"tasklist\"\n        });\n      }); // this.$refs.postTask.validate(valid => {\n      //   if (valid) {\n      //     this.loading = true;\n      //     this.$notify({\n      //       title: \"成功\",\n      //       message: \"发布文章成功\",\n      //       type: \"success\",\n      //       duration: 2000\n      //     });\n      //     this.postTask.status = \"published\";\n      //     this.loading = false;\n      //   } else {\n      //     console.log(\"error submit!!\");\n      //     return false;\n      //   }\n      // });\n    } // draftForm() {\n    //   if (\n    //     this.postTask.description.length === 0 ||\n    //     this.postTask.name.length === 0\n    //   ) {\n    //     this.$message({\n    //       message: \"请填写必要的标题和内容\",\n    //       type: \"warning\"\n    //     });\n    //     return;\n    //   }\n    //   this.$message({\n    //     message: \"保存成功\",\n    //     type: \"success\",\n    //     showClose: true,\n    //     duration: 1000\n    //   });\n    //   this.postTask.status = \"draft\";\n    // }\n\n  }\n};\nexports.default = _default;",{"version":3,"sources":["taskDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"createPost-container\">\n    <el-form\n      class=\"form-container\"\n      size=\"medium\"\n      label-position=\"top\"\n      :model=\"postTask\"\n      :rules=\"rules\"\n      ref=\"postTask\"\n    >\n      <sticky :className=\"'sub-navbar '+postTask.status\">\n        <template v-if=\"fetchSuccess\">\n          <!-- <router-link style=\"margin-right:15px;\" v-show=\"isEdit\" :to=\"{ path:'create-form'}\">\n            <el-button type=\"info\">创建任务</el-button>\n          </router-link>-->\n          <el-button\n            v-loading=\"loading\"\n            style=\"margin-left: 10px;\"\n            type=\"success\"\n            @click=\"submitForm()\"\n          >发布</el-button>\n        </template>\n        <template v-else>\n          <el-tag>发送异常错误,刷新页面,或者联系程序员</el-tag>\n        </template>\n      </sticky>\n      <el-col :span=\"12\">\n        <div class=\"createPost-main-container\">\n          <el-form-item label=\"标题:\">\n            <el-input\n              type=\"textarea\"\n              class=\"article-textarea\"\n              :rows=\"3\"\n              autosize\n              placeholder=\"请输入标题\"\n              v-model=\"postTask.name\"\n            ></el-input>\n            <span class=\"word-counter\" v-show=\"contentShortLength\">{{contentShortLength}}字</span>\n          </el-form-item>\n\n          <!-- <el-form-item label=\"分类:\">\n            <el-select v-model=\"postTask.category\" placeholder=\"请选择任务分类\">\n              <el-option label=\"高客单\" value=\"shanghai\"></el-option>\n              <el-option label=\"低客单\" value=\"beijing\"></el-option>\n            </el-select>\n          </el-form-item>-->\n\n          <el-form-item label=\"发布时间:\">\n            <el-date-picker\n              v-model=\"postTask.start\"\n              type=\"datetime\"\n              format=\"yyyy-MM-dd HH:mm:ss\"\n              placeholder=\"选择日期时间\"\n            ></el-date-picker>\n          </el-form-item>\n\n          <!-- <el-tooltip class=\"item\" effect=\"dark\" content=\"商场搜索词\" placement=\"top\"> -->\n          <el-form-item label=\"关键字:\">\n            <el-input placeholder=\"商场搜索词\" v-model=\"postTask.searchKeyword\"></el-input>\n          </el-form-item>\n          <!-- </el-tooltip> -->\n\n          <el-form-item label=\"描述:\">\n            <el-input\n              type=\"textarea\"\n              class=\"article-textarea\"\n              :rows=\"3\"\n              autosize\n              placeholder=\"请输入内容\"\n              v-model=\"postTask.description\"\n            ></el-input>\n            <span class=\"word-counter\" v-show=\"contentShortLength\">{{contentShortLength}}字</span>\n          </el-form-item>\n\n          <el-form-item label=\"奖励:\">\n            <el-input\n              type=\"textarea\"\n              class=\"article-textarea\"\n              rows=\"3\"\n              autosize\n              placeholder=\"请输入内容\"\n              v-model=\"postTask.reward\"\n            ></el-input>\n            <span class=\"word-counter\" v-show=\"contentShortLength\">{{contentShortLength}}字</span>\n          </el-form-item>\n          <div style=\"margin-bottom: 20px;\">\n            <label class=\"el-form-item__label\">列表图片:</label>\n            <el-upload\n              :headers=\"headers\"\n              action=\"/sugar/api/file\"\n              :limit=\"1\"\n              list-type=\"picture-card\"\n              :on-preview=\"handleIntroducePictureCardPreview\"\n              :on-success=\"handleIntroducePictureSuccess\"\n              :file-list=\"orderPics\"\n            ></el-upload>\n          </div>\n\n          <div style=\"margin-bottom: 20px;\">\n            <label class=\"el-form-item__label\">商品图片:</label>\n            <el-upload\n              :headers=\"headers\"\n              action=\"/sugar/api/file\"\n              :limit=\"1\"\n              list-type=\"picture-card\"\n              :on-preview=\"handleProductPictureCardPreview\"\n              :on-success=\"handleProductPictureSuccess\"\n              :file-list=\"productPics\"\n            ></el-upload>\n          </div>\n          <div style=\"margin-bottom: 20px;\">\n            <label class=\"el-form-item__label\">订单图片:</label>\n            <el-upload\n              :headers=\"headers\"\n              action=\"/sugar/api/file\"\n              :limit=\"1\"\n              list-type=\"picture-card\"\n              :on-preview=\"handleOrderPictureCardPreview\"\n              :on-success=\"handleOrderPictureSuccess\"\n              :file-list=\"orderPics\"\n            ></el-upload>\n          </div>\n        </div>\n      </el-col>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport MDinput from \"@/components/MDinput\";\nimport Sticky from \"@/components/Sticky\";\nimport { fetchTask, createTask } from \"@/api/task\";\nimport { getToken } from \"@/utils/auth\";\n// import { userSearch } from '@/api/remoteSearch'\n\nconst defaultTask = {\n  status: \"\",\n  name: \"\", // 任务名\n  description: \"\", // 任务描述\n  reward: \"\", // 任务奖励\n  searchKeyword: \"\", //搜索关键字\n  productPic: \"\",\n  orderPic: \"\",\n  introducePic: \"\",\n  displayTime: undefined, // 前台展示时间\n  id: undefined,\n  platforms: [\"a-platform\"],\n  comment_disabled: false\n};\n\nexport default {\n  name: \"taskDetail\",\n  components: { Sticky, MDinput },\n  props: {\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    const validateRequire = (rule, value, callback) => {\n      if (value === \"\") {\n        this.$message({\n          message: rule.field + \"为必传项\",\n          type: \"error\"\n        });\n        callback(null);\n      } else {\n        callback();\n      }\n    };\n    const validateSourceUri = (rule, value, callback) => {\n      if (value) {\n        if (validateURL(value)) {\n          callback();\n        } else {\n          this.$message({\n            message: \"外链url填写不正确\",\n            type: \"error\"\n          });\n          callback(null);\n        }\n      } else {\n        callback();\n      }\n    };\n    return {\n      productPics: [],\n      orderPics: [],\n      introducePics: [],\n      headers: { Authorization: \"Bearer \" + getToken() },\n      postTask: Object.assign({}, defaultTask),\n      fetchSuccess: true,\n      loading: false,\n      limit: 1,\n\n      rules: {\n        pictureUrl: [{ validator: validateRequire }],\n        name: [{ validator: validateRequire }],\n        description: [{ validator: validateRequire }],\n        pictureUrl: [{ validator: validateSourceUri, trigger: \"blur\" }]\n      }\n    };\n  },\n  computed: {\n    contentShortLength() {\n      return this.postTask.description.length;\n    }\n  },\n  created() {\n    if (this.isEdit) {\n      this.fetchData();\n    } else {\n      this.postTask = Object.assign({}, defaultTask);\n    }\n  },\n  methods: {\n    handleIntroducePictureCardPreview(file) {\n      // this.dialogImageUrl = file.url;\n      // this.dialogVisible = true;\n    },\n    handleIntroducePictureSuccess(response, file, fileList) {\n      this.postTask.introducePic = response;\n    },\n\n    handleProductPictureCardPreview(file) {\n      // this.dialogImageUrl = file.url;\n      // this.dialogVisible = true;\n    },\n    handleProductPictureSuccess(response, file, fileList) {\n      this.postTask.productPic = response;\n    },\n    handleOrderPictureCardPreview(file) {\n      // this.dialogImageUrl = file.url;\n      // this.dialogVisible = true;\n    },\n    handleOrderPictureSuccess(response, file, fileList) {\n      this.postTask.orderPic = response;\n    },\n    fetchData() {\n      let id = this.$route.params.taskId;\n      fetchTask(id)\n        .then(response => {\n          this.productPics.push({url: response.productPic});\n          this.orderPics.push({url: response.productPic});\n          this.introducePics.push({url: response.productPic});\n          this.postTask = response;\n        })\n        .catch(err => {\n          this.fetchSuccess = false;\n        });\n    },\n    submitForm() {\n      this.postTask.start = parseInt(this.postTask.start.getTime());\n      createTask(this.postTask).then(res => {\n        this.$router.push({ name: \"tasklist\" });\n      });\n      // this.$refs.postTask.validate(valid => {\n      //   if (valid) {\n      //     this.loading = true;\n      //     this.$notify({\n      //       title: \"成功\",\n      //       message: \"发布文章成功\",\n      //       type: \"success\",\n      //       duration: 2000\n      //     });\n      //     this.postTask.status = \"published\";\n      //     this.loading = false;\n      //   } else {\n      //     console.log(\"error submit!!\");\n      //     return false;\n      //   }\n      // });\n    }\n    // draftForm() {\n    //   if (\n    //     this.postTask.description.length === 0 ||\n    //     this.postTask.name.length === 0\n    //   ) {\n    //     this.$message({\n    //       message: \"请填写必要的标题和内容\",\n    //       type: \"warning\"\n    //     });\n    //     return;\n    //   }\n    //   this.$message({\n    //     message: \"保存成功\",\n    //     type: \"success\",\n    //     showClose: true,\n    //     duration: 1000\n    //   });\n    //   this.postTask.status = \"draft\";\n    // }\n  }\n};\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n@import \"src/styles/mixin.scss\";\n.title-prompt {\n  position: absolute;\n  right: 0px;\n  font-size: 12px;\n  top: 10px;\n  color: #ff4949;\n}\n.createPost-container {\n  position: relative;\n  .createPost-main-container {\n    padding: 40px 45px 20px 50px;\n    .postInfo-container {\n      position: relative;\n      @include clearfix;\n      margin-bottom: 10px;\n      .postInfo-container-item {\n        float: left;\n      }\n    }\n    .editor-container {\n      min-height: 500px;\n      margin: 0 0 30px;\n      .editor-upload-btn-container {\n        text-align: right;\n        margin-right: 10px;\n        .editor-upload-btn {\n          display: inline-block;\n        }\n      }\n    }\n  }\n  .word-counter {\n    width: 40px;\n    position: absolute;\n    right: -10px;\n    top: 0px;\n  }\n}\n</style>\n\n"],"sourceRoot":"src/views/form/components"}]}