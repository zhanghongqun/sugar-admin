{"remainingRequest":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/thread-loader/dist/cjs.js!/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/babel-loader/lib/index.js!/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhanghongqun/Desktop/github/sugar-admin/src/components/Upload/singleImage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/src/components/Upload/singleImage.vue","mtime":1592719570926},{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhanghongqun/Desktop/github/sugar-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// 预览效果见付费文章\n// import { getToken } from '@/api/qiniu'\nexport default {\n  name: 'singleImageUpload',\n  props: {\n    value: String\n  },\n  computed: {\n    imageUrl: function imageUrl() {\n      return this.value;\n    }\n  },\n  data: function data() {\n    return {\n      tempUrl: '',\n      dataObj: {\n        token: '',\n        key: ''\n      }\n    };\n  },\n  methods: {\n    rmImage: function rmImage() {\n      this.emitInput('');\n    },\n    emitInput: function emitInput(val) {\n      this.$emit('input', val);\n    },\n    handleImageScucess: function handleImageScucess() {\n      this.emitInput(this.tempUrl);\n    },\n    beforeUpload: function beforeUpload() {\n      var _this = this;\n\n      var _self = this;\n\n      return new Promise(function (resolve, reject) {\n        getToken().then(function (response) {\n          var key = response.data.qiniu_key;\n          var token = response.data.qiniu_token;\n          _self._data.dataObj.token = token;\n          _self._data.dataObj.key = key;\n          _this.tempUrl = response.data.qiniu_url;\n          resolve(true);\n        }).catch(function (err) {\n          console.log(err);\n          reject(false);\n        });\n      });\n    }\n  }\n};",null]}